<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Phone</title>
</head>

<body>
    <div class="application">
        <div class="phone" id="phone">
            <div class="phone__hardware">
                <div class="phone__hardware__speaker"></div>
                <div class="phone__hardware__camera"></div>
                <div class="phone__hardware__camera phone__hardware__camera--sensor"></div>
                <div class="phone__hardware__camera phone__hardware__camera--sensor2"></div>
                <div style="width: 100%; height: 30px; position: absolute; top: 0; left: 0;"></div>
            </div>
            <div class="phone__controls">
                <div class="phone__controls__volume"></div>
                <div class="phone__controls__power"></div>
                <div class="phone__controls__annoying-button-nobody-likes"></div>
            </div>
            <div class="phone__screen">
                <div class="status-bar">
                    <div id="date"></div>
                    <div>
                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-volume-up-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path d="M11.536 14.01A8.473 8.473 0 0 0 14.026 8a8.473 8.473 0 0 0-2.49-6.01l-.708.707A7.476 7.476 0 0 1 13.025 8c0 2.071-.84 3.946-2.197 5.303l.708.707z"/>
                            <path d="M10.121 12.596A6.48 6.48 0 0 0 12.025 8a6.48 6.48 0 0 0-1.904-4.596l-.707.707A5.483 5.483 0 0 1 11.025 8a5.483 5.483 0 0 1-1.61 3.89l.706.706z"/>
                            <path d="M8.707 11.182A4.486 4.486 0 0 0 10.025 8a4.486 4.486 0 0 0-1.318-3.182L8 5.525A3.489 3.489 0 0 1 9.025 8 3.49 3.49 0 0 1 8 10.475l.707.707z"/>
                            <path fill-rule="evenodd" d="M6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06z"/>
                          </svg>
                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-wifi" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path d="M15.385 6.115a.485.485 0 0 0-.048-.736A12.443 12.443 0 0 0 8 3 12.44 12.44 0 0 0 .663 5.379a.485.485 0 0 0-.048.736.518.518 0 0 0 .668.05A11.448 11.448 0 0 1 8 4c2.507 0 4.827.802 6.717 2.164.204.148.489.13.668-.049z"/>
                            <path d="M13.229 8.271c.216-.216.194-.578-.063-.745A9.456 9.456 0 0 0 8 6c-1.905 0-3.68.56-5.166 1.526a.48.48 0 0 0-.063.745.525.525 0 0 0 .652.065A8.46 8.46 0 0 1 8 7a8.46 8.46 0 0 1 4.577 1.336c.205.132.48.108.652-.065zm-2.183 2.183c.226-.226.185-.605-.1-.75A6.472 6.472 0 0 0 8 9c-1.06 0-2.062.254-2.946.704-.285.145-.326.524-.1.75l.015.015c.16.16.408.19.611.09A5.478 5.478 0 0 1 8 10c.868 0 1.69.201 2.42.56.203.1.45.07.611-.091l.015-.015zM9.06 12.44c.196-.196.198-.52-.04-.66A1.99 1.99 0 0 0 8 11.5a1.99 1.99 0 0 0-1.02.28c-.238.14-.236.464-.04.66l.706.706a.5.5 0 0 0 .708 0l.707-.707z"/>
                        </svg>
                        100%
                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-battery-full" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M12 5H2a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1zM2 4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H2z"/>
                            <path d="M2 6h10v4H2V6zm12.5 3.5a1.5 1.5 0 0 0 0-3v3z"/>
                        </svg>
                    </div>
                </div>
                <div class="content">
                    <div class="app-grid">
                        <div class="app-grid__app app-grid__app--contacts">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-person-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
                            </svg>
                            <p class="app-title">Contacts</p>
                        </div>
                        <div class="app-grid__app app-grid__app--phone">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-telephone-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M2.267.98a1.636 1.636 0 0 1 2.448.152l1.681 2.162c.309.396.418.913.296 1.4l-.513 2.053a.636.636 0 0 0 .167.604L8.65 9.654a.636.636 0 0 0 .604.167l2.052-.513a1.636 1.636 0 0 1 1.401.296l2.162 1.681c.777.604.849 1.753.153 2.448l-.97.97c-.693.693-1.73.998-2.697.658a17.47 17.47 0 0 1-6.571-4.144A17.47 17.47 0 0 1 .639 4.646c-.34-.967-.035-2.004.658-2.698l.97-.969z"/>
                            </svg>
                            <p class="app-title">Phone</p>
                        </div>
                        <div class="app-grid__app app-grid__app--msg">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chat-dots-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M16 8c0 3.866-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.584.296-1.925.864-4.181 1.234-.2.032-.352-.176-.273-.362.354-.836.674-1.95.77-2.966C.744 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7zM5 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
                            </svg>
                            <p class="app-title">Messages</p>
                        </div>
                        <div id="whatsup_app" class="app-grid__app app-grid__app--wapp">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chat-quote" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z"/>
                                <path d="M7.468 7.667c0 .92-.776 1.666-1.734 1.666S4 8.587 4 7.667C4 6.747 4.776 6 5.734 6s1.734.746 1.734 1.667z"/>
                                <path fill-rule="evenodd" d="M6.157 6.936a.438.438 0 0 1-.56.293.413.413 0 0 1-.274-.527c.08-.23.23-.44.477-.546a.891.891 0 0 1 .698.014c.387.16.72.545.923.997.428.948.393 2.377-.942 3.706a.446.446 0 0 1-.612.01.405.405 0 0 1-.011-.59c1.093-1.087 1.058-2.158.77-2.794-.152-.336-.354-.514-.47-.563zm-.035-.012h-.001.001z"/>
                                <path d="M11.803 7.667c0 .92-.776 1.666-1.734 1.666-.957 0-1.734-.746-1.734-1.666 0-.92.777-1.667 1.734-1.667.958 0 1.734.746 1.734 1.667z"/>
                                <path fill-rule="evenodd" d="M10.492 6.936a.438.438 0 0 1-.56.293.413.413 0 0 1-.274-.527c.08-.23.23-.44.477-.546a.891.891 0 0 1 .698.014c.387.16.72.545.924.997.428.948.392 2.377-.942 3.706a.446.446 0 0 1-.613.01.405.405 0 0 1-.011-.59c1.093-1.087 1.058-2.158.77-2.794-.152-.336-.354-.514-.469-.563zm-.034-.012h-.002.002z"/>
                            </svg>
                            <p class="app-title">WhatsUp</p>
                        </div>
                        <div id="bank_app" class="app-grid__app app-grid__app--bank">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-cash" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M15 4H1v8h14V4zM1 3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H1z"/>
                                <path d="M13 4a2 2 0 0 0 2 2V4h-2zM3 4a2 2 0 0 1-2 2V4h2zm10 8a2 2 0 0 1 2-2v2h-2zM3 12a2 2 0 0 0-2-2v2h2zm7-4a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"/>
                            </svg>
                            <p class="app-title">Bank</p>
                        </div>
                        <div id="settings_app" class="app-grid__app app-grid__app--settings">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-sliders" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M14 3.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0zM11.5 5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM7 8.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0zM4.5 10a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm9.5 3.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0zM11.5 15a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"/>
                                <path fill-rule="evenodd" d="M9.5 4H0V3h9.5v1zM16 4h-2.5V3H16v1zM9.5 14H0v-1h9.5v1zm6.5 0h-2.5v-1H16v1zM6.5 9H16V8H6.5v1zM0 9h2.5V8H0v1z"/>
                            </svg>
                            <p class="app-title">Settings</p>
                        </div>
                        <div class="app-grid__app app-grid__app--weazel">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-newspaper" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M0 2A1.5 1.5 0 0 1 1.5.5h11A1.5 1.5 0 0 1 14 2v12a1.5 1.5 0 0 1-1.5 1.5h-11A1.5 1.5 0 0 1 0 14V2zm1.5-.5A.5.5 0 0 0 1 2v12a.5.5 0 0 0 .5.5h11a.5.5 0 0 0 .5-.5V2a.5.5 0 0 0-.5-.5h-11z"/>
                                <path fill-rule="evenodd" d="M15.5 3a.5.5 0 0 1 .5.5V14a1.5 1.5 0 0 1-1.5 1.5h-3v-1h3a.5.5 0 0 0 .5-.5V3.5a.5.5 0 0 1 .5-.5z"/>
                                <path d="M2 3h10v2H2V3zm0 3h4v3H2V6zm0 4h4v1H2v-1zm0 2h4v1H2v-1zm5-6h2v1H7V6zm3 0h2v1h-2V6zM7 8h2v1H7V8zm3 0h2v1h-2V8zm-3 2h2v1H7v-1zm3 0h2v1h-2v-1zm-3 2h2v1H7v-1zm3 0h2v1h-2v-1z"/>
                            </svg>
                            <p class="app-title">Weazel</p>
                        </div>
                        
                        <div id="notes_app" class="app-grid__app app-grid__app--notes">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-sticky-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M2.5 1A1.5 1.5 0 0 0 1 2.5v11A1.5 1.5 0 0 0 2.5 15h6.086a1.5 1.5 0 0 0 1.06-.44l4.915-4.914A1.5 1.5 0 0 0 15 8.586V2.5A1.5 1.5 0 0 0 13.5 1h-11zm6 8.5v4.396c0 .223.27.335.427.177l5.146-5.146a.25.25 0 0 0-.177-.427H9.5a1 1 0 0 0-1 1z"/>
                              </svg>
                            <p class="app-title">Notes</p>
                        </div>
                    </div>
                    <div class="whatsup hidden">
                        <div class="banner">WhatsUp</div>
                        <div class="app">
                            <div class="list">
                                <ul>
                                    <li class="group-item" id="1">Police</li>
                                </ul>
                                <ul>
                                    <li class="group-item">Mafia</li>
                                </ul>
                                <ul>
                                    <li class="group-item">Gang</li>
                                </ul>
                                <ul>
                                    <li class="group-item">Taxi</li>
                                </ul>
                                <ul>
                                    <li class="group-item">Stripper</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="bank hidden">
                        <div class="banner">Bank</div>
                        <div class="app">
                            <div class="balance">
                                <h3 id="info_bank">Your balance:</h3>
                                <h3 id="">Bank:</h3>
                                <p id="bal_bank">$</p>
                                <h3 id="info_cash">Cash:</h3>
                                <p id="bal_cash">$</p>
                            </div>
                            <div class="transactions">
                                <h3>Transfer</h3>
                                <p>To:</p>
                                <input type="text">
                                <p>Amount:</p>
                                <input type="text">
                                <button>Send</button>
                            </div>
                        </div>
                    </div>
                    <div class="settings hidden">
                        <div class="banner">Settings</div>
                        <div class="app">
                            <ul class="settings_content">
                                <li>
                                    <p>
                                        Phone size:
                                    </p>
                                    <input type="range" min="0" max="10" value="0" class="slider" id="sliderSize">
                                </li>
                                <li>
                                    <p>
                                        <p>Mute:</p>
                                        <input type="checkbox" name="mute" id="mute">
                                    </p>
                                </li>
                                <li>
                                    <p>
                                        <p>Background URL:</p>
                                        <input class="urlinput" type="text" id="backgroundURL" name="URL">
                                    </p>
                                </li>
                                <li>
                                    <button id="saveSettings" class="savebutton">SAVE</button>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="notesapp hidden">
                        <div class="banner">
                                Notes
                            <div id="addnote">
                                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-plus-square-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm6.5 4a.5.5 0 0 0-1 0v3.5H4a.5.5 0 0 0 0 1h3.5V12a.5.5 0 0 0 1 0V8.5H12a.5.5 0 0 0 0-1H8.5V4z"/>
                                </svg>
                            </div>
                            <div class="clear"></div>
                        </div>
                        <div class="app">
                            <ul class="note-list">
                                <li class="note-item">
                                    Note 1
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <nav class="navigation">
                    <ol class="navigation__buttons">
                        <li class="navigation__buttons__button">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-circle" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                            </svg>

                        </li>
                    </ol>
                </nav>
            </div>
        </div>
    </div>
</body>
<script src="lib/jquery-3.4.0.min.js"></script>
<script src="lib/i18next.min.js"></script>
<script src="lib/jquery-i18next.min.js"></script>
<script src="lib/i18nextXHRBackend.min.js"></script>
<script>
    $("#addnote").on("click", function () {
        $(".note-list").append('<li class="note-item">a</li>')
    })
    
    $("#saveSettings").on("click", function () {
        $(".phone").css("zoom", `${ $("#sliderSize").val() >= 10 ? '1.2' : '1.1' + $("#sliderSize").val()}`);
        $(".content").css("background-image", `url('${$("#backgroundURL").val() === "" ? "bg.jpg" : $("#backgroundURL").val()}')`);
        $.ajax({
            url: "http://localhost:8080/api/phone/" + name,
            type: 'PUT',
            dataType: 'json',
            data: { owner: name, mute: 0, phonesize: $("#sliderSize").val(), backgroundurl: $("#backgroundURL").val() == "" ? "" : $("#backgroundURL").val()},
            done: function(res) {
                console.log(res);
            },
            success: function(res) {
                console.log(res);
            },
            error: function (error) {
                console.log(error)
            }
        });
    });

    $(document).ready(function () {
        setInterval(() => {
            var d = new Date();
            $("#date").html(`${d.getHours() < 10 ? '0' : ''}${d.getHours()}:${d.getMinutes() < 10 ? '0' : ''}${d.getMinutes()}`);
        }, 1000);
        
        $.ajax({
            url: "http://localhost:8080/api/phone/" + name,
            type: 'GET',
            dataType: 'json',
            success: function(res) {
                if (res.length == 0) {
                    $(".content").css("background-image", `url('bg.jpg')`);
                }else{
                    $("#backgroundURL").val(res[0].backgroundurl == "" ? '' : res[0].backgroundurl)
                    $(".content").css("background-image", `url('${res[0].backgroundurl == "" ? 'bg.jpg' : res[0].backgroundurl}')`);
                    $(".phone").css("zoom", `${ res[0].phonesize >= 10 ? '1.2' : '1.1' + res[0].phonesize}`);
                    $("#sliderSize").val(res[0].phonesize);
                }
            },
            error: function (error) {
                console.log(error)
            }
        });

    });
    
    $("#notes_app").on("click", function () {
        $(".notesapp").toggleClass("hidden");
    });
    
    $("#whatsup_app").on("click", function () {
        $(".whatsup").toggleClass("hidden");
    });

    $("#settings_app").on("click", function () {
        $(".settings").toggleClass("hidden");
    });

    $("#bank_app").on("click", function () {
        $(".bank").toggleClass("hidden");
        $.ajax({
            url: "http://localhost:8080/api/user/" + name,
            type: 'GET',
            dataType: 'json',
            success: function(res) {
                $("#info_bank").html(res[0].name + " Balance")
                $("#bal_bank").html("$" + res[0].bank)
                $("#bal_cash").html("$" + res[0].money)
            },
            error: function (error) {
                console.log(error)
            }
        });
    });

    $(".navigation__buttons__button").on("click", function () {
        if (!$(".whatsup").hasClass("hidden")) {
            $(".whatsup").toggleClass("hidden");
        }
        if (!$(".bank").hasClass("hidden")) {
            $(".bank").toggleClass("hidden");
        }
        if (!$(".settings").hasClass("hidden")) {
            $(".settings").toggleClass("hidden");
        }
        if (!$(".notesapp").hasClass("hidden")) {
            $(".notesapp").toggleClass("hidden");
        }
    });

    $(".group-item").on("click", function (event) {
        $.ajax({
            url: "http://localhost:8080/api/user",
            type: 'GET',
            dataType: 'json',
            success: function(res) {
                console.log(res);
            },
            error: function (error) {
                console.log(error)
            }
        });
    });
</script>
<script src="phone.js"></script>

</html>